on:
  workflow_call:
    inputs:
      environment:
        type: string

jobs:
  predeploy:
    name: "Predeploy"
    environment: ${{ matrix.environment }}-pre
    runs-on: ubuntu-latest
    steps:
      - run: echo "Predeploy"

  deploy:
    name: "Deploy"
    environment: ${{ matrix.environment }}
    needs: predeploy
    runs-on: ubuntu-latest
    steps:
      - run: echo "Deploy"

  postdeploy:
    name: "Postdeploy"
    environment: ${{ matrix.environment }}-post
    needs: deploy
    runs-on: ubuntu-latest
    steps:
      - run: echo "Postdeploy"